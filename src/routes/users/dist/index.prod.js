"use strict";var _require=require("express"),Router=_require.Router,_require2=require("../../controllers/users"),createAnonUser=_require2.createAnonUser,getUserById=_require2.getUserById,getUserByUsername=_require2.getUserByUsername,route=Router();route.get("/:id",function(r,t){var s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r.params.id),isNaN(parseInt(r.params.id)))return e.next=4,regeneratorRuntime.awrap(getUserByUsername(r.params.id));e.next=7;break;case 4:s=e.sent,e.next=10;break;case 7:return e.next=9,regeneratorRuntime.awrap(getUserById(r.params.id));case 9:s=e.sent;case 10:console.log(s),s?t.status(200).send(s):t.status(404).send({error:"No such user id or username"});case 12:case"end":return e.stop()}})}),route.post("/",function(e,r){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(createAnonUser());case 2:t=e.sent,r.status(201).send(t);case 4:case"end":return e.stop()}})}),module.exports={usersRoute:route};